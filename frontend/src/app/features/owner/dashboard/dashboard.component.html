<!-- src/app/features/owner/dashboard/dashboard.component.html -->
<app-navbar></app-navbar>

<div class="owner-dashboard">
  <div class="container">

    <!-- Header -->
    <div class="page-header">
      <div>
        <h1>Tableau de bord</h1>
        <p>Bienvenue dans votre espace propriétaire</p>
      </div>
      <a routerLink="/owner/annonces/create" class="btn btn-primary">
        <i class="fas fa-plus"></i>
        Nouvelle annonce
      </a>
    </div>

    <!-- Stats Cards -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(46, 204, 113, 0.1)">
          <i class="fas fa-home" style="color: #2ECC71"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalAnnonces }}</h3>
          <p>Annonces actives</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(52, 152, 219, 0.1)">
          <i class="fas fa-calendar-check" style="color: #3498DB"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.totalReservations }}</h3>
          <p>Réservations</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon" style="background: rgba(230, 126, 34, 0.1)">
          <i class="fas fa-money-bill-wave" style="color: #E67E22"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stats.revenuTotal | number:'1.0-0' }} FCFA</h3>
          <p>Revenus totaux</p>
        </div>
      </div>
    </div>

    <!-- Actions rapides -->
    <div class="quick-actions">
      <h2>Actions rapides</h2>
      <div class="actions-grid">
        <a routerLink="/owner/mes-annonces/mes-annonces" class="action-card">
          <i class="fas fa-plus-circle"></i>
          <span>Créer une annonce</span>
        </a>
        <a routerLink="/owner/annonces" class="action-card">
          <i class="fas fa-list"></i>
          <span>Gérer mes annonces</span>
        </a>
        <a routerLink="/owner/reservations" class="action-card">
          <i class="fas fa-calendar-alt"></i>
          <span>Voir les réservations</span>
        </a>
        <a routerLink="/profil" class="action-card">
          <i class="fas fa-user-cog"></i>
          <span>Paramètres</span>
        </a>
      </div>
    </div>

    <!-- Annonces récentes -->
    <div class="recent-section">
      <div class="section-header">
        <h2>Annonces récentes</h2>
        <a routerLink="/owner/annonces" class="view-all">
          Voir tout <i class="fas fa-arrow-right"></i>
        </a>
      </div>

      <div class="annonces-table" *ngIf="!isLoading && annoncesRecentes.length > 0">
        <table>
          <thead>
            <tr>
              <th>Titre</th>
              <th>Prix</th>
              <th>Ville</th>
              <th>Statut</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let annonce of annoncesRecentes">
              <td>
                <div class="annonce-title">
                  <strong>{{ annonce.titre }}</strong>
                </div>
              </td>
              <td>{{ annonce.prix | number:'1.0-0' }} FCFA/nuit</td>
              <td>{{ annonce.ville }}</td>
              <td>
                <span
                  class="status-badge"
                  [ngClass]="getStatusClass(annonce.estActive)"
                >
                  {{ getStatusLabel(annonce.estActive) }}
                </span>
              </td>
              <td>
                <div class="action-buttons">
                  <a
                    [routerLink]="['/logements', annonce.id]"
                    class="btn-icon"
                    title="Voir"
                  >
                    <i class="fas fa-eye"></i>
                  </a>
                  <a
                    [routerLink]="['/owner/annonces/edit', annonce.id]"
                    class="btn-icon"
                    title="Modifier"
                  >
                    <i class="fas fa-edit"></i>
                  </a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="empty-state" *ngIf="!isLoading && annoncesRecentes.length === 0">
        <i class="fas fa-home"></i>
        <h3>Aucune annonce</h3>
        <p>Créez votre première annonce pour commencer</p>
        <a routerLink="/owner/annonces/create" class="btn btn-primary">
          <i class="fas fa-plus"></i>
          Créer une annonce
        </a>
      </div>
    </div>
  </div>
</div>
