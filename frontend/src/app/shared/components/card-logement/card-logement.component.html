
<div class="card-logement" [routerLink]="['/logements', annonce.id]">
  <div class="card-image">
    <img [src]="getImageUrl()" [alt]="annonce.titre" />

    <button
      *ngIf="showFavoriteBtn"
      class="favorite-btn"
      [class.active]="isFavorite"
      (click)="toggleFavorite($event)"
    >
      <i [class]="isFavorite ? 'fas fa-heart' : 'far fa-heart'"></i>
    </button>

    <div class="card-badge" *ngIf="annonce.typeAnnonce">
      <i class="fas fa-tag"></i>
      {{ annonce.typeAnnonce }}
    </div>
  </div>

  <div class="card-content">
    <div class="card-header">
      <h3 class="card-title">{{ annonce.titre }}</h3>
      <div class="card-rating">
        <div class="stars">
          <i
            *ngFor="let star of getStars(); let i = index"
            [class]="isStarFilled(i) ? 'fas fa-star' : 'far fa-star'"
          ></i>
        </div>
        <span class="rating-count">({{ annonce.totalAvis }})</span>
      </div>
    </div>

    <div class="card-location">
      <i class="fas fa-map-marker-alt"></i>
      <span>{{ annonce.ville }}</span>
    </div>

    <div class="card-features">
      <div class="feature">
        <i class="fas fa-bed"></i>
        <span>{{ annonce.nbreChambres }} ch.</span>
      </div>
      <div class="feature">
        <i class="fas fa-users"></i>
        <span>{{ annonce.maxInvites }} pers.</span>
      </div>
      <div class="feature">
        <i class="fas fa-door-open"></i>
        <span>{{ annonce.nbreLits }} lits</span>
      </div>
    </div>

    <div class="card-footer">
      <div class="card-price">
        <span class="price-amount">{{ annonce.prix | number:'1.0-0' }} FCFA</span>
        <span class="price-period">/ nuit</span>
      </div>
      <button class="btn-view">
        Voir d√©tails
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>
</div>
